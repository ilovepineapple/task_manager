<% content_for(:title, 'Tasks') %>

<h1>Tasks</h1>

<%= link_to("New task", new_task_path, class: 'action new') %>

<% @tasks.each do |task| %>
  <div style="border: 1px solid #3c3c3c; margin: 20px 0; padding: 16px; border-radius: 8px">
    <h3><%= task.name %></h3>
    <span><%= task.category&.name %></span>
    <span><%= truncate(task.description, length: 30) %></span>
    <p><%= task.completed? ? 'Completed' : 'No completed' %>
    <hr>
    <div>
      <%= link_to("👀 Show", task_path(task), class: 'action show') %>
      <%= link_to("✏️ Edit", edit_task_path(task), class: 'action edit') %>
      <%= link_to("🚫 Delete", delete_task_path(task), class: 'action delete') %>
    </div>
  </div>
<% end %>

<%= link_to("Back to home", {controller: "main", action: "index"}) %>
